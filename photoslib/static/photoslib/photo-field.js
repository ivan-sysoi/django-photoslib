!function(t){function e(e){for(var n,i,s=e[0],c=e[1],u=e[2],p=0,f=[];p<s.length;p++)i=s[p],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&f.push(o[i][0]),o[i]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);for(l&&l(e);f.length;)f.shift()();return a.push.apply(a,u||[]),r()}function r(){for(var t,e=0;e<a.length;e++){for(var r=a[e],n=!0,s=1;s<r.length;s++){var c=r[s];0!==o[c]&&(n=!1)}n&&(a.splice(e--,1),t=i(i.s=r[0]))}return t}var n={},o={0:0},a=[];function i(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=t,i.c=n,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(r,n,function(e){return t[e]}.bind(null,n));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="";var s=window.webpackJsonp=window.webpackJsonp||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var u=0;u<s.length;u++)e(s[u]);var l=c;a.push([0,1]),r()}({"./node_modules/svg-react-loader/lib/loader.js!./src/components/Photo/delete.svg":function(t,e,r){var n=r("react");function o(t){return n.createElement("svg",t,n.createElement("polygon",{points:"357,35.7 321.3,0 178.5,142.8 35.7,0 0,35.7 142.8,178.5 0,321.3 35.7,357 178.5,214.2 321.3,357 357,321.3\n\t\t\t214.2,178.5"}))}o.defaultProps={version:"1.1",id:"Capa_1",x:"0px",y:"0px",viewBox:"0 0 357 357",style:{enableBackground:"new 0 0 357 357"},xmlSpace:"preserve"},t.exports=o,o.default=o},"./node_modules/svg-react-loader/lib/loader.js!./src/components/Photo/rotate.svg":function(t,e,r){var n=r("react");function o(t){return n.createElement("svg",t,n.createElement("path",{d:"M14.133,28.265c-7.061,0-12.805-5.75-12.805-12.809c0-7.06,5.744-12.807,12.805-12.807c0.469,0,0.943,0.027,1.414,0.08\n\t\tv-2.07c0-0.266,0.164-0.508,0.406-0.611c0.252-0.098,0.531-0.043,0.723,0.148l4.537,4.547c0.258,0.258,0.258,0.67,0,0.932\n\t\tl-4.535,4.557c-0.193,0.188-0.473,0.246-0.725,0.143c-0.242-0.104-0.406-0.344-0.406-0.609V7.47\n\t\tc-0.469-0.086-0.941-0.125-1.414-0.125c-4.473,0-8.113,3.639-8.113,8.111c0,4.471,3.641,8.113,8.113,8.113s8.111-3.643,8.111-8.113\n\t\tc0-0.363,0.295-0.66,0.662-0.66h3.369c0.365,0,0.662,0.297,0.662,0.66C26.937,22.515,21.189,28.265,14.133,28.265z"}))}o.defaultProps={x:"0px",y:"0px",viewBox:"0 0 28.265 28.265",style:{enableBackground:"new 0 0 28.265 28.265"},xmlSpace:"preserve"},t.exports=o,o.default=o},"./node_modules/svg-react-loader/lib/loader.js!./src/components/PhotoUrl/copy.svg":function(t,e,r){var n=r("react");function o(t){return n.createElement("svg",t,n.createElement("path",{d:"M395.25,0h-306c-28.05,0-51,22.95-51,51v357h51V51h306V0z M471.75,102h-280.5c-28.05,0-51,22.95-51,51v357\n\t\t\tc0,28.05,22.95,51,51,51h280.5c28.05,0,51-22.95,51-51V153C522.75,124.95,499.8,102,471.75,102z M471.75,510h-280.5V153h280.5V510\n\t\t\tz"}))}o.defaultProps={x:"0px",y:"0px",viewBox:"0 0 561 561",style:{enableBackground:"new 0 0 561 561"},xmlSpace:"preserve"},t.exports=o,o.default=o},"./node_modules/svg-react-loader/lib/loader.js!./src/components/PhotosList/arrow-down.svg":function(t,e,r){var n=r("react");function o(t){return n.createElement("svg",t,n.createElement("polygon",{points:"0,63.75 127.5,191.25 255,63.75"}))}o.defaultProps={x:"0px",y:"0px",viewBox:"0 0 255 255",style:{enableBackground:"new 0 0 255 255"},xmlSpace:"preserve"},t.exports=o,o.default=o},"./node_modules/svg-react-loader/lib/loader.js!./src/upload.svg":function(t,e,r){var n=r("react");function o(t){return n.createElement("svg",t,[n.createElement("polygon",{points:"140.25,331.5 293.25,331.5 293.25,178.5 395.25,178.5 216.75,0 38.25,178.5 140.25,178.5 \t\t",key:0}),n.createElement("rect",{x:"38.25",y:"382.5",width:"357",height:"51",key:1})])}o.defaultProps={x:"0px",y:"0px",viewBox:"0 0 433.5 433.5",style:{enableBackground:"new 0 0 433.5 433.5"},xmlSpace:"preserve"},t.exports=o,o.default=o},"./src/components/Button/styles.scss":function(t,e,r){t.exports={Button:"Button--iAL6V",Button__Icon:"Button__Icon--17TyF"}},"./src/components/Photo/styles.scss":function(t,e,r){t.exports={Photo:"Photo--waL7v",Photo_sortable:"Photo_sortable--10nNi",Photo_dragging:"Photo_dragging--1mbm9",Photo__Urls:"Photo__Urls--15pfK",Photo__Img:"Photo__Img--1iHmf",Photo__Actions:"Photo__Actions--2eF_q",flip:"flip--3Er-R"}},"./src/components/PhotoUrl/styles.scss":function(t,e,r){t.exports={PhotoUrl:"PhotoUrl--yN45Z",PhotoUrl__Input:"PhotoUrl__Input--ZUsdV",PhotoUrl__Name:"PhotoUrl__Name--1nOYr"}},"./src/components/PhotosList/styles.scss":function(t,e,r){t.exports={PhotosList:"PhotosList--dI6qr",PhotosList__Photo:"PhotosList__Photo--dCiCq",PhotosListHeader:"PhotosListHeader--27JpS",PhotosListHeader__Btn:"PhotosListHeader__Btn--3BNLn",PhotosListHeader__Icon:"PhotosListHeader__Icon--1qp0R",PhotosListHeader__Icon_flip:"PhotosListHeader__Icon_flip--3JcaO"}},"./src/components/Spinner/styles.scss":function(t,e,r){t.exports={Spinner:"Spinner--3E89H",Spinner__Inner:"Spinner__Inner--pHxiY","lds-ring":"lds-ring--z4dxd",Spinner__Inner_1:"Spinner__Inner_1--2cBHM",Spinner__Inner_2:"Spinner__Inner_2--2ODMR",Spinner__Inner_3:"Spinner__Inner_3--1fk6a"}},"./src/index.js":function(t,e,r){"use strict";r.r(e);var n=r("react"),o=r.n(n),a=r("react-dom"),i=r.n(a),s=r("./node_modules/axios/index.js"),c=r.n(s),u=r("./node_modules/lodash/isString.js"),l=r.n(u),p=r("./node_modules/lodash/isInteger.js"),f=r.n(p),d=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.maxItems,r=void 0===e?100:e,n=t.lifeTime,o=void 0===n?3e5:n,a=new Map;function i(t){if(!f()(t)&&!l()(t))throw new Error("Cache key must be string or integer: ".concat(t))}function s(){if(a.size>r)for(var t=a.keys();a.size>r;)a.remove(t.next())}function c(t){if(a.has(t)){var e=a.get(t);if(0===e.timeout||e.timeout>=(new Date).getTime())return e.data}}function u(t,e){i(t),s(),a.set(t,{timeout:o>0?(new Date).getTime()+o:0,data:e})}return{get:c,set:u}};function h(t,e,r,n,o,a,i){try{var s=t[a](i),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function m(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){h(a,n,o,i,s,"next",t)}function s(t){h(a,n,o,i,s,"throw",t)}i(void 0)}))}}var y=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.getUrl,r=t.uploadUrl,n=t.rotateLeftUrl,o=t.rotateRightUrl,a=t.headers,i=d({lifeTime:0}),s=function(t){if(t&&200>=t.status<300)return t.data;throw new Error("Invalid response status: ".concat(t.statusText))};return{get:function(t){return m(regeneratorRuntime.mark((function r(){var n,o,u;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!((n=Number.isInteger(t)?[t]:Array.from(new Set(t.values()))).length<1)){r.next=3;break}return r.abrupt("return",[]);case 3:if(o=n.join("|"),!(u=i.get(o))){r.next=7;break}return r.abrupt("return",u);case 7:return r.t0=s,r.next=10,c()({url:"".concat(e,"?ids=").concat(n.join(",")),headers:a,method:"get"});case 10:return r.t1=r.sent,r.abrupt("return",(0,r.t0)(r.t1));case 12:case"end":return r.stop()}}),r)})))()},upload:function(t){return m(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new FormData).append("file",t),e.t0=s,e.next=5,c()({url:r,method:"post",headers:a,data:n});case 5:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 7:case"end":return e.stop()}}),e)})))()},rotateLeft:function(t){return m(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=s,e.next=3,c()({url:n,method:"post",headers:a,data:{ids:[t]}});case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}}),e)})))()},rotateRight:function(t){return m(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=s,e.next=3,c()({url:o,method:"post",headers:a,data:{ids:[t]}});case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}}),e)})))()}}},b=(r("./node_modules/prop-types/index.js"),r("./node_modules/react-dropzone/dist/es/index.js")),g=r("./node_modules/react-dnd-html5-backend/lib/cjs/index.js"),v=r.n(g),_=r("./node_modules/react-dnd/lib/cjs/index.js"),P=r("./node_modules/classnames/index.js"),O=r.n(P),w=r("./src/components/Button/styles.scss"),j=r.n(w);function S(){return(S=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function x(t){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function E(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function R(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function I(t,e){return!e||"object"!==x(e)&&"function"!=typeof e?k(t):e}function k(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function D(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function N(t){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function C(t,e){return(C=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function L(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var A=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&C(t,e)}(s,t);var e,r,n,a,i=(e=s,function(){var t,r=N(e);if(D()){var n=N(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return I(this,t)});function s(){var t;E(this,s);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return L(k(t=i.call.apply(i,[this].concat(r))),"onClick",(function(e){t.props.preventDefault&&e.preventDefault(),t.props.onClick&&t.props.onClick(e)})),t}return r=s,(n=[{key:"render",value:function(){return o.a.createElement("button",{onClick:this.onClick,className:O()(j.a.Button,this.props.className),disabled:this.props.disabled,ref:this.props.buttonRef,style:this.props.style},this.props.icon&&o.a.createElement("span",{className:j.a.Button__Icon},this.props.icon),this.props.children)}}])&&R(r.prototype,n),a&&R(r,a),s}(n.PureComponent);L(A,"defaultProps",{disabled:!1,preventDefault:!0});var B=Object(n.forwardRef)((function(t,e){return o.a.createElement(A,S({},t,{buttonRef:e}))})),U=r("./node_modules/react-css-collapse/lib/index.js"),T=r.n(U),z=r("./node_modules/svg-react-loader/lib/loader.js!./src/components/PhotoUrl/copy.svg"),F=r.n(z),H=r("./src/components/PhotoUrl/styles.scss"),M=r.n(H),V=function(t){return function(){document.getElementById(t).select(),document.execCommand("copy")}},q=function(t){var e=t.id,r=t.url,n=t.name,a=t.disabled,i="photo".concat(e);return o.a.createElement("div",{className:M.a.PhotoUrl},o.a.createElement("input",{type:"text",value:r,id:i,className:M.a.PhotoUrl__Input}),o.a.createElement("span",{className:M.a.PhotoUrl__Name},n),o.a.createElement("a",{href:r,target:e},function(t){return t.length>30?"".concat(t.slice(0,12),"...").concat(t.slice(-15)):t}(r)),o.a.createElement(B,{onClick:V(i),disabled:a},o.a.createElement(F.a,{height:12,fill:"rgba(0, 0, 0, 0.4)"})))};q.defaultProps={disabled:!1};var J=q,Y=r("./node_modules/svg-react-loader/lib/loader.js!./src/components/Photo/rotate.svg"),Z=r.n(Y),$=r("./node_modules/svg-react-loader/lib/loader.js!./src/components/Photo/delete.svg"),G=r.n($),K=r("./src/components/Photo/styles.scss"),X=r.n(K);function Q(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var r=[],n=!0,o=!1,a=void 0;try{for(var i,s=t[Symbol.iterator]();!(n=(i=s.next()).done)&&(r.push(i.value),!e||r.length!==e);n=!0);}catch(t){o=!0,a=t}finally{try{n||null==s.return||s.return()}finally{if(o)throw a}}return r}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return W(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return W(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function W(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function tt(t){return(tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function et(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function nt(t,e){return!e||"object"!==tt(e)&&"function"!=typeof e?ot(t):e}function ot(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function at(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function it(t){return(it=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function st(t,e){return(st=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ct(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var ut=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&st(t,e)}(s,t);var e,r,n,a,i=(e=s,function(){var t,r=it(e);if(at()){var n=it(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return nt(this,t)});function s(){var t;et(this,s);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return ct(ot(t=i.call.apply(i,[this].concat(r))),"state",{}),ct(ot(t),"clearPhoto",(function(){t.props.onClear(t.props.photo.id)})),ct(ot(t),"rotateLeft",(function(){t.props.onRotateLeft(t.props.photo.id)})),ct(ot(t),"rotateRight",(function(){t.props.onRotateRight(t.props.photo.id)})),t}return r=s,(n=[{key:"render",value:function(){var t,e=this.props,r=e.connectDragPreview,n=e.connectDragSource,a=e.connectDropTarget,i=e.isDragging,s=e.sortable;return n&&a&&r&&n(a(o.a.createElement("div",{className:O()(X.a.Photo,(t={},ct(t,X.a.Photo_dragging,i),ct(t,X.a.Photo_sortable,s),t),this.props.className)},o.a.createElement("div",{className:X.a.Photo__Img},r(o.a.createElement("img",{src:this.props.photo.thumb})),o.a.createElement("div",{className:X.a.Photo__Actions},o.a.createElement(B,{onClick:this.clearPhoto,disabled:this.props.disabled},o.a.createElement(G.a,{height:15,fill:"rgba(0, 0, 0, 0.4)"})),o.a.createElement(B,{onClick:this.rotateLeft,disabled:this.props.disabled},o.a.createElement(Z.a,{height:15,fill:"rgba(0, 0, 0, 0.4)",className:X.a.flip})),o.a.createElement(B,{onClick:this.rotateRight,disabled:this.props.disabled},o.a.createElement(Z.a,{height:15,fill:"rgba(0, 0, 0, 0.4)"})))),o.a.createElement("div",{className:X.a.Photo__Urls},this.state.sizes.map((function(t){var e=t.name,r=t.url,n=t.id;return o.a.createElement(J,{key:n,id:n,name:e,url:r})}))))))}}])&&rt(r.prototype,n),a&&rt(r,a),s}(n.PureComponent);ct(ut,"defaultProps",{disabled:!1}),ct(ut,"getDerivedStateFromProps",(function(t,e){if((e||{}).propsPhoto!==t.photo){var r=[];return t.photo&&(t.photo.file&&r.push({id:"".concat(t.photo.id,"-file"),name:t.messages.original,url:t.photo.file}),t.photo.sizes&&Object.entries(t.photo.sizes).forEach((function(e){var n=Q(e,2),o=n[0],a=n[1];r.push({id:"".concat(t.photo.id,"-").concat(o),name:t.sizeNames[o]||o,url:a})}))),{propsPhoto:t.photo,sizes:r}}return null}));var lt=Object(_.DropTarget)("Photo",{hover:function(t,e,r){if(!r||!e.getItem().sortable)return null;var n=e.getItem().index,o=t.index;n!==o&&(t.onReorder(n,o),e.getItem().index=o)}},(function(t){return{connectDropTarget:t.dropTarget()}}))(Object(_.DragSource)("Photo",{beginDrag:function(t){return{index:t.index,sortable:t.sortable}}},(function(t,e){return{connectDragPreview:t.dragPreview(),connectDragSource:t.dragSource(),isDragging:e.isDragging()}}))(ut)),pt=r("./src/components/PhotosList/styles.scss"),ft=r.n(pt),dt=r("./node_modules/svg-react-loader/lib/loader.js!./src/components/PhotosList/arrow-down.svg"),ht=r.n(dt);function mt(t){return(mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function yt(){return(yt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function bt(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},a=Object.keys(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}function gt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _t(t,e){return!e||"object"!==mt(e)&&"function"!=typeof e?Pt(t):e}function Pt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ot(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function wt(t){return(wt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function jt(t,e){return(jt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function St(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var xt=function(t){var e="".concat(t,"-collapsible");return"0"===localStorage.getItem(e)},Et=function(t,e){var r="".concat(t,"-collapsible");localStorage.setItem(r,e?"1":"0")},Rt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&jt(t,e)}(c,t);var e,r,a,i,s=(e=c,function(){var t,r=wt(e);if(Ot()){var n=wt(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return _t(this,t)});function c(){var t;gt(this,c);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return St(Pt(t=s.call.apply(s,[this].concat(r))),"state",{open:!t.props.collapsible||!xt(t.props.appId)}),St(Pt(t),"toggle",(function(){t.setState((function(t){return{open:!t.open}}),(function(){Et(t.props.appId,t.state.open)}))})),t}return r=c,(a=[{key:"render",value:function(){var t=this.props,e=t.photos,r=t.collapsible,a=bt(t,["photos","collapsible"]);return o.a.createElement(n.Fragment,null,r&&o.a.createElement("div",{className:ft.a.PhotosListHeader,onClick:this.toggle},o.a.createElement(ht.a,{height:18,className:O()(ft.a.PhotosListHeader__Icon,this.state.open&&ft.a.PhotosListHeader__Icon_flip)}),o.a.createElement("span",null,this.props.messages.count,": ",this.props.photos.length)),o.a.createElement(T.a,{isOpen:this.state.open},o.a.createElement("div",{className:ft.a.PhotosList},e.map((function(t,e){return o.a.createElement(lt,yt({},a,{className:ft.a.PhotosList__Photo,key:t.id,index:e,photo:t}))})))))}}])&&vt(r.prototype,a),i&&vt(r,i),c}(n.PureComponent);St(Rt,"defaultProps",{});var It=Rt,kt=r("./src/components/Spinner/styles.scss"),Dt=r.n(kt),Nt=[0,1,2,3].map((function(t){return o.a.createElement("div",{key:t,className:[Dt.a.Spinner__Inner,"".concat(Dt.a.Spinner__Inner,"_").concat(t)].join(" ")})})),Ct=function(t){var e=t.className;return o.a.createElement("div",{className:O()(Dt.a.Spinner,e)},Nt)},Lt=r("./src/styles.scss"),At=r.n(Lt),Bt=r("./node_modules/svg-react-loader/lib/loader.js!./src/upload.svg"),Ut=r.n(Bt);function Tt(t){return(Tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function zt(){return(zt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function Ft(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var r=[],n=!0,o=!1,a=void 0;try{for(var i,s=t[Symbol.iterator]();!(n=(i=s.next()).done)&&(r.push(i.value),!e||r.length!==e);n=!0);}catch(t){o=!0,a=t}finally{try{n||null==s.return||s.return()}finally{if(o)throw a}}return r}(t,e)||Mt(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ht(t){return function(t){if(Array.isArray(t))return Vt(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||Mt(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Mt(t,e){if(t){if("string"==typeof t)return Vt(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Vt(t,e):void 0}}function Vt(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function qt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Jt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?qt(Object(r),!0).forEach((function(e){Wt(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qt(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Yt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Zt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function $t(t,e){return!e||"object"!==Tt(e)&&"function"!=typeof e?Gt(t):e}function Gt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Kt(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function Xt(t){return(Xt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Qt(t,e){return(Qt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Wt(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var te=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Qt(t,e)}(s,t);var e,r,n,a,i=(e=s,function(){var t,r=Xt(e);if(Kt()){var n=Xt(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return $t(this,t)});function s(){var t;Yt(this,s);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return Wt(Gt(t=i.call.apply(i,[this].concat(r))),"state",{photos:[],loading:!1,criticalError:!1,errorInd:0,errors:[]}),Wt(Gt(t),"addError",(function(e){t.setState((function(t){return Jt({},t,{errorInd:t.errorInd+1,errors:[].concat(Ht(t.errors),[{mess:e,key:t.errorInd}])})}),(function(){setTimeout((function(){t.setState((function(t){return Jt({},t,{errors:t.errors.slice(1)})}))}),8e3)}))})),Wt(Gt(t),"uploadPhoto",(function(e){t.setState({loading:!0}),t.props.photosApi.upload(e).then((function(e){t.state.photos.find((function(t){return t.id===e.id}))?t.setState({loading:!1}):t.setState((function(t){return{photos:[].concat(Ht(t.photos),[e]),loading:!1}}))}),(function(e){console.error(e),t.addError(t.props.messages.uploadError),t.setState({loading:!1})}))})),Wt(Gt(t),"onDrop",(function(e){e.map(t.uploadPhoto)})),Wt(Gt(t),"onClearPhoto",(function(e){t.setState((function(t){return{photos:t.photos.filter((function(t){return t.id!==e}))}}))})),Wt(Gt(t),"rotate",(function(e){var r=e?t.props.photosApi.rotateLeft:t.props.photosApi.rotateRight;return function(e){var n=t.state.photos.findIndex((function(t){return t.id===e}));-1!==n&&(t.setState({loading:!0}),r(e).then((function(e){t.setState((function(t){var r=t.photos;return r[n]=e,{photos:Ht(r),loading:!1}}))}),(function(e){console.error(e),t.setState({loading:!1})})))}})),Wt(Gt(t),"onRotateLeft",t.rotate(!0)),Wt(Gt(t),"onRotateRight",t.rotate(!1)),Wt(Gt(t),"onReorder",(function(e,r){t.setState((function(t){var n=Ht(t.photos),o=Ft(n.splice(e,1),1)[0];return n.splice(r,0,o),{photos:n}}))})),t}return r=s,(n=[{key:"componentDidMount",value:function(){var t=this;this.props.initialValue.length>0&&(this.setState({loading:!0}),this.props.photosApi.get(this.props.initialValue).then((function(e){t.setState({photos:e,loading:!1})}),(function(e){console.error(e),t.setState({criticalError:!0,loading:!1})})))}},{key:"render",value:function(){var t=this;return this.state.criticalError?this.props.messages.criticalError:o.a.createElement("div",{className:At.a.PhotoField},o.a.createElement(It,{appId:this.props.opts.appId,photos:this.state.photos,onReorder:this.onReorder,onClear:this.onClearPhoto,onRotateLeft:this.onRotateLeft,onRotateRight:this.onRotateRight,messages:this.props.messages,disabled:this.state.loading,sortable:this.props.opts.sortable,collapsible:this.props.opts.multiply,sizeNames:this.props.opts.sizeNames}),this.state.loading&&o.a.createElement(Ct,null),(this.props.opts.multiply||0===this.state.photos.length)&&o.a.createElement(b.a,{onDrop:this.onDrop,accept:"image/*",maxSize:this.props.opts.maxSize,multiple:this.props.opts.multiply,disabled:this.state.loading},(function(e){return o.a.createElement("div",zt({className:At.a.PhotoField__UploadButton},e.getRootProps()),o.a.createElement(B,{onClick:e.open,icon:o.a.createElement(Ut.a,{height:20,fill:"rgba(0, 0, 0, 0.4)"})},t.props.messages.upload),o.a.createElement("input",e.getInputProps()))})),this.state.errors.length>0&&o.a.createElement("ul",{className:At.a.PhotoField__Errors},this.state.errors.map((function(t){var e=t.mess,r=t.key;return o.a.createElement("li",{key:r},e)}))),this.state.photos.map((function(e,r){var n=e.id;return o.a.createElement("input",{type:"hidden",name:t.props.inputName,value:n,key:r})})))}}])&&Zt(r.prototype,n),a&&Zt(r,a),s}(n.PureComponent);Wt(te,"defaultProps",{});var ee=Object(_.DragDropContext)(v.a)(te);function re(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function ne(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?re(Object(r),!0).forEach((function(e){oe(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):re(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function oe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}window.__photoslibInit=function(t){var e=t.rootElement,r=t.inputName,n=t.messages,a=t.apiOptions,s=t.opts,c=t.initialValue,u={"X-CSRFToken":"; ".concat(document.cookie).split("; csrftoken=").pop().split(";").shift()};return i.a.render(o.a.createElement(ee,{inputName:r,photosApi:y(ne({},a,{headers:u})),opts:s,messages:n,initialValue:Number.isInteger(c)?[c]:Array.isArray(c)?c:[]}),e),function(t){t()}}},"./src/styles.scss":function(t,e,r){t.exports={PhotoField:"PhotoField--2Gh2m",PhotoField__UploadButton:"PhotoField__UploadButton--2dLE8",PhotoField__Errors:"PhotoField__Errors--26Rzg"}},0:function(t,e,r){r("./node_modules/@babel/polyfill/noConflict.js"),t.exports=r("./src/index.js")},react:function(t,e){t.exports=React},"react-dom":function(t,e){t.exports=ReactDOM}});