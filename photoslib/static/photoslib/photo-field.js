!function(e){function t(t){for(var n,i,c=t[0],s=t[1],u=t[2],p=0,f=[];p<c.length;p++)i=c[p],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&f.push(o[i][0]),o[i]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n]);for(l&&l(t);f.length;)f.shift()();return a.push.apply(a,u||[]),r()}function r(){for(var e,t=0;t<a.length;t++){for(var r=a[t],n=!0,c=1;c<r.length;c++){var s=r[c];0!==o[s]&&(n=!1)}n&&(a.splice(t--,1),e=i(i.s=r[0]))}return e}var n={},o={0:0},a=[];function i(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=n,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(r,n,function(t){return e[t]}.bind(null,n));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var c=window.webpackJsonp=window.webpackJsonp||[],s=c.push.bind(c);c.push=t,c=c.slice();for(var u=0;u<c.length;u++)t(c[u]);var l=s;a.push([0,1]),r()}({"./node_modules/svg-react-loader/lib/loader.js!./src/components/Photo/delete.svg":function(e,t,r){var n=r("react");function o(e){return n.createElement("svg",e,n.createElement("polygon",{points:"357,35.7 321.3,0 178.5,142.8 35.7,0 0,35.7 142.8,178.5 0,321.3 35.7,357 178.5,214.2 321.3,357 357,321.3\n\t\t\t214.2,178.5"}))}o.defaultProps={version:"1.1",id:"Capa_1",x:"0px",y:"0px",viewBox:"0 0 357 357",style:{enableBackground:"new 0 0 357 357"},xmlSpace:"preserve"},e.exports=o,o.default=o},"./node_modules/svg-react-loader/lib/loader.js!./src/components/Photo/rotate.svg":function(e,t,r){var n=r("react");function o(e){return n.createElement("svg",e,n.createElement("path",{d:"M14.133,28.265c-7.061,0-12.805-5.75-12.805-12.809c0-7.06,5.744-12.807,12.805-12.807c0.469,0,0.943,0.027,1.414,0.08\n\t\tv-2.07c0-0.266,0.164-0.508,0.406-0.611c0.252-0.098,0.531-0.043,0.723,0.148l4.537,4.547c0.258,0.258,0.258,0.67,0,0.932\n\t\tl-4.535,4.557c-0.193,0.188-0.473,0.246-0.725,0.143c-0.242-0.104-0.406-0.344-0.406-0.609V7.47\n\t\tc-0.469-0.086-0.941-0.125-1.414-0.125c-4.473,0-8.113,3.639-8.113,8.111c0,4.471,3.641,8.113,8.113,8.113s8.111-3.643,8.111-8.113\n\t\tc0-0.363,0.295-0.66,0.662-0.66h3.369c0.365,0,0.662,0.297,0.662,0.66C26.937,22.515,21.189,28.265,14.133,28.265z"}))}o.defaultProps={x:"0px",y:"0px",viewBox:"0 0 28.265 28.265",style:{enableBackground:"new 0 0 28.265 28.265"},xmlSpace:"preserve"},e.exports=o,o.default=o},"./node_modules/svg-react-loader/lib/loader.js!./src/components/PhotoUrl/copy.svg":function(e,t,r){var n=r("react");function o(e){return n.createElement("svg",e,n.createElement("path",{d:"M395.25,0h-306c-28.05,0-51,22.95-51,51v357h51V51h306V0z M471.75,102h-280.5c-28.05,0-51,22.95-51,51v357\n\t\t\tc0,28.05,22.95,51,51,51h280.5c28.05,0,51-22.95,51-51V153C522.75,124.95,499.8,102,471.75,102z M471.75,510h-280.5V153h280.5V510\n\t\t\tz"}))}o.defaultProps={x:"0px",y:"0px",viewBox:"0 0 561 561",style:{enableBackground:"new 0 0 561 561"},xmlSpace:"preserve"},e.exports=o,o.default=o},"./node_modules/svg-react-loader/lib/loader.js!./src/components/PhotosList/arrow-down.svg":function(e,t,r){var n=r("react");function o(e){return n.createElement("svg",e,n.createElement("polygon",{points:"0,63.75 127.5,191.25 255,63.75"}))}o.defaultProps={x:"0px",y:"0px",viewBox:"0 0 255 255",style:{enableBackground:"new 0 0 255 255"},xmlSpace:"preserve"},e.exports=o,o.default=o},"./node_modules/svg-react-loader/lib/loader.js!./src/upload.svg":function(e,t,r){var n=r("react");function o(e){return n.createElement("svg",e,[n.createElement("polygon",{points:"140.25,331.5 293.25,331.5 293.25,178.5 395.25,178.5 216.75,0 38.25,178.5 140.25,178.5 \t\t",key:0}),n.createElement("rect",{x:"38.25",y:"382.5",width:"357",height:"51",key:1})])}o.defaultProps={x:"0px",y:"0px",viewBox:"0 0 433.5 433.5",style:{enableBackground:"new 0 0 433.5 433.5"},xmlSpace:"preserve"},e.exports=o,o.default=o},"./src/index.js":function(e,t,r){"use strict";r.r(t);var n=r("react"),o=r.n(n),a=r("react-dom"),i=r.n(a),c=r("./node_modules/axios/index.js"),s=r.n(c),u=r("./node_modules/lodash/isString.js"),l=r.n(u),p=r("./node_modules/lodash/isInteger.js"),f=r.n(p),d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.maxItems,r=void 0===t?100:t,n=e.lifeTime,o=void 0===n?3e5:n,a=new Map;function i(e){if(!f()(e)&&!l()(e))throw new Error("Cache key must be string or integer: ".concat(e))}function c(){if(a.size>r)for(var e=a.keys();a.size>r;)a.remove(e.next())}function s(e){if(a.has(e)){var t=a.get(e);if(0===t.timeout||t.timeout>=(new Date).getTime())return t.data}}function u(e,t){i(e),c(),a.set(e,{timeout:o>0?(new Date).getTime()+o:0,data:t})}return{get:s,set:u}};function h(e,t,r,n,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void r(e)}c.done?t(s):Promise.resolve(s).then(n,o)}function m(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){h(a,n,o,i,c,"next",e)}function c(e){h(a,n,o,i,c,"throw",e)}i(void 0)}))}}var y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.getUrl,r=e.uploadUrl,n=e.rotateLeftUrl,o=e.rotateRightUrl,a=e.headers,i=d({lifeTime:0}),c=function(e){if(e&&200>=e.status<300)return e.data;throw new Error("Invalid response status: ".concat(e.statusText))};return{get:function(e){return m(regeneratorRuntime.mark((function r(){var n,o,u;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!((n=Number.isInteger(e)?[e]:Array.from(new Set(e.values()))).length<1)){r.next=3;break}return r.abrupt("return",[]);case 3:if(o=n.join("|"),!(u=i.get(o))){r.next=7;break}return r.abrupt("return",u);case 7:return r.t0=c,r.next=10,s()({url:"".concat(t,"?ids=").concat(n.join(",")),headers:a,method:"get"});case 10:return r.t1=r.sent,r.abrupt("return",(0,r.t0)(r.t1));case 12:case"end":return r.stop()}}),r)})))()},upload:function(e){return m(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(n=new FormData).append("file",e),t.t0=c,t.next=5,s()({url:r,method:"post",headers:a,data:n});case 5:return t.t1=t.sent,t.abrupt("return",(0,t.t0)(t.t1));case 7:case"end":return t.stop()}}),t)})))()},rotateLeft:function(e){return m(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=c,t.next=3,s()({url:n,method:"post",headers:a,data:{ids:[e]}});case 3:return t.t1=t.sent,t.abrupt("return",(0,t.t0)(t.t1));case 5:case"end":return t.stop()}}),t)})))()},rotateRight:function(e){return m(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=c,t.next=3,s()({url:o,method:"post",headers:a,data:{ids:[e]}});case 3:return t.t1=t.sent,t.abrupt("return",(0,t.t0)(t.t1));case 5:case"end":return t.stop()}}),t)})))()}}},b=(r("./node_modules/prop-types/index.js"),r("./node_modules/react-dropzone/dist/es/index.js")),g=r("./node_modules/react-dnd-html5-backend/lib/cjs/index.js"),v=r.n(g),O=r("./node_modules/react-dnd/lib/cjs/index.js"),w=r("./node_modules/classnames/index.js"),P=r.n(w),j="Button--3Ab1J",_="Button__Icon--1ZMqA";function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(){return(E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function x(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function R(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function I(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=C(e);if(t){var o=C(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return D(this,r)}}function D(e,t){return!t||"object"!==S(t)&&"function"!=typeof t?N(e):t}function N(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function A(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var T=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(i,e);var t,r,n,a=I(i);function i(){var e;x(this,i);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return A(N(e=a.call.apply(a,[this].concat(r))),"onClick",(function(t){e.props.preventDefault&&t.preventDefault(),e.props.onClick&&e.props.onClick(t)})),e}return t=i,(r=[{key:"render",value:function(){return o.a.createElement("button",{onClick:this.onClick,className:P()(j,this.props.className),disabled:this.props.disabled,ref:this.props.buttonRef,style:this.props.style},this.props.icon&&o.a.createElement("span",{className:_},this.props.icon),this.props.children)}}])&&R(t.prototype,r),n&&R(t,n),i}(n.PureComponent);A(T,"defaultProps",{disabled:!1,preventDefault:!0});var L=Object(n.forwardRef)((function(e,t){return o.a.createElement(T,E({},e,{buttonRef:t}))})),z=r("./node_modules/react-css-collapse/lib/index.js"),B=r.n(z),U=r("./node_modules/svg-react-loader/lib/loader.js!./src/components/PhotoUrl/copy.svg"),M=r.n(U),V="PhotoUrl--3YUHi",F="PhotoUrl__Input--16o04",H="PhotoUrl__Name--3ENTY",J=function(e){return function(){document.getElementById(e).select(),document.execCommand("copy")}},Q=function(e){var t=e.id,r=e.url,n=e.name,a=e.disabled,i="photo".concat(t);return o.a.createElement("div",{className:V},o.a.createElement("input",{type:"text",value:r,id:i,className:F}),o.a.createElement("span",{className:H},n),o.a.createElement("a",{href:r,target:t},function(e){return e.length>30?"".concat(e.slice(0,12),"...").concat(e.slice(-15)):e}(r)),o.a.createElement(L,{onClick:J(i),disabled:a},o.a.createElement(M.a,{height:12,fill:"rgba(0, 0, 0, 0.4)"})))};Q.defaultProps={disabled:!1};var Y=Q,q=r("./node_modules/svg-react-loader/lib/loader.js!./src/components/Photo/rotate.svg"),X=r.n(q),Z=r("./node_modules/svg-react-loader/lib/loader.js!./src/components/Photo/delete.svg"),$=r.n(Z),W="Photo--2gY9D",G="Photo_sortable--ED_PX",K="Photo_dragging--iF3ho",ee="Photo__Urls--22R5T",te="Photo__Img--jN9IQ",re="Photo__Actions--1dI7F",ne="flip--3EQPk";function oe(e){return(oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ae(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(n=(i=c.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,a=e}finally{try{n||null==c.return||c.return()}finally{if(o)throw a}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ie(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ie(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ie(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function se(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ue(e,t){return(ue=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function le(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=de(e);if(t){var o=de(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return pe(this,r)}}function pe(e,t){return!t||"object"!==oe(t)&&"function"!=typeof t?fe(e):t}function fe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function de(e){return(de=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function he(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var me=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ue(e,t)}(i,e);var t,r,n,a=le(i);function i(){var e;ce(this,i);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return he(fe(e=a.call.apply(a,[this].concat(r))),"state",{}),he(fe(e),"clearPhoto",(function(){e.props.onClear(e.props.photo.id)})),he(fe(e),"rotateLeft",(function(){e.props.onRotateLeft(e.props.photo.id)})),he(fe(e),"rotateRight",(function(){e.props.onRotateRight(e.props.photo.id)})),e}return t=i,(r=[{key:"render",value:function(){var e,t=this.props,r=t.connectDragPreview,n=t.connectDragSource,a=t.connectDropTarget,i=t.isDragging,c=t.sortable;return n&&a&&r&&n(a(o.a.createElement("div",{className:P()(W,(e={},he(e,K,i),he(e,G,c),e),this.props.className)},o.a.createElement("div",{className:te},r(o.a.createElement("img",{src:this.props.photo.thumb})),o.a.createElement("div",{className:re},o.a.createElement(L,{onClick:this.clearPhoto,disabled:this.props.disabled},o.a.createElement($.a,{height:15,fill:"rgba(0, 0, 0, 0.4)"})),o.a.createElement(L,{onClick:this.rotateLeft,disabled:this.props.disabled},o.a.createElement(X.a,{height:15,fill:"rgba(0, 0, 0, 0.4)",className:ne})),o.a.createElement(L,{onClick:this.rotateRight,disabled:this.props.disabled},o.a.createElement(X.a,{height:15,fill:"rgba(0, 0, 0, 0.4)"})))),o.a.createElement("div",{className:ee},this.state.sizes.map((function(e){var t=e.name,r=e.url,n=e.id;return o.a.createElement(Y,{key:n,id:n,name:t,url:r})}))))))}}])&&se(t.prototype,r),n&&se(t,n),i}(n.PureComponent);he(me,"defaultProps",{disabled:!1}),he(me,"getDerivedStateFromProps",(function(e,t){if((t||{}).propsPhoto!==e.photo){var r=[];return e.photo&&(e.photo.file&&r.push({id:"".concat(e.photo.id,"-file"),name:e.messages.original,url:e.photo.file}),e.photo.sizes&&Object.entries(e.photo.sizes).forEach((function(t){var n=ae(t,2),o=n[0],a=n[1];r.push({id:"".concat(e.photo.id,"-").concat(o),name:e.sizeNames[o]||o,url:a})}))),{propsPhoto:e.photo,sizes:r}}return null}));var ye=Object(O.DropTarget)("Photo",{hover:function(e,t,r){if(!r||!t.getItem().sortable)return null;var n=t.getItem().index,o=e.index;n!==o&&(e.onReorder(n,o),t.getItem().index=o)}},(function(e){return{connectDropTarget:e.dropTarget()}}))(Object(O.DragSource)("Photo",{beginDrag:function(e){return{index:e.index,sortable:e.sortable}}},(function(e,t){return{connectDragPreview:e.dragPreview(),connectDragSource:e.dragSource(),isDragging:t.isDragging()}}))(me)),be="PhotosList--3-J-t",ge="PhotosList__Photo--1D92m",ve="PhotosListHeader--3I-wr",Oe="PhotosListHeader__Icon--10eN9",we="PhotosListHeader__Icon_flip--3n_w-",Pe=r("./node_modules/svg-react-loader/lib/loader.js!./src/components/PhotosList/arrow-down.svg"),je=r.n(Pe);function _e(e){return(_e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Se(){return(Se=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Ee(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function xe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Re(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ke(e,t){return(ke=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ie(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Ce(e);if(t){var o=Ce(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return De(this,r)}}function De(e,t){return!t||"object"!==_e(t)&&"function"!=typeof t?Ne(e):t}function Ne(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ce(e){return(Ce=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ae(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Te=function(e){var t="".concat(e,"-collapsible");return"0"===localStorage.getItem(t)},Le=function(e,t){var r="".concat(e,"-collapsible");localStorage.setItem(r,t?"1":"0")},ze=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ke(e,t)}(c,e);var t,r,a,i=Ie(c);function c(){var e;xe(this,c);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Ae(Ne(e=i.call.apply(i,[this].concat(r))),"state",{open:!e.props.collapsible||!Te(e.props.appId)}),Ae(Ne(e),"toggle",(function(){e.setState((function(e){return{open:!e.open}}),(function(){Le(e.props.appId,e.state.open)}))})),e}return t=c,(r=[{key:"render",value:function(){var e=this.props,t=e.photos,r=e.collapsible,a=Ee(e,["photos","collapsible"]);return o.a.createElement(n.Fragment,null,r&&o.a.createElement("div",{className:ve,onClick:this.toggle},o.a.createElement(je.a,{height:18,className:P()(Oe,this.state.open&&we)}),o.a.createElement("span",null,this.props.messages.count,": ",this.props.photos.length)),o.a.createElement(B.a,{isOpen:this.state.open},o.a.createElement("div",{className:be},t.map((function(e,t){return o.a.createElement(ye,Se({},a,{className:ge,key:e.id,index:t,photo:e}))})))))}}])&&Re(t.prototype,r),a&&Re(t,a),c}(n.PureComponent);Ae(ze,"defaultProps",{});var Be=ze,Ue={Spinner:"Spinner--HQahU",Spinner__Inner:"Spinner__Inner--1JSOb","lds-ring":"lds-ring--1vWae",Spinner__Inner_1:"Spinner__Inner_1--2vT1H",Spinner__Inner_2:"Spinner__Inner_2--15HnL",Spinner__Inner_3:"Spinner__Inner_3--15t--"},Me=[0,1,2,3].map((function(e){return o.a.createElement("div",{key:e,className:[Ue.Spinner__Inner,"".concat(Ue.Spinner__Inner,"_").concat(e)].join(" ")})})),Ve=function(e){var t=e.className;return o.a.createElement("div",{className:P()(Ue.Spinner,t)},Me)},Fe="PhotoField--2qbsA",He="PhotoField__UploadButton--3kBi3",Je="PhotoField__Errors--1dPZt",Qe=r("./node_modules/svg-react-loader/lib/loader.js!./src/upload.svg"),Ye=r.n(Qe);function qe(e){return(qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xe(){return(Xe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Ze(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(n=(i=c.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,a=e}finally{try{n||null==c.return||c.return()}finally{if(o)throw a}}return r}(e,t)||We(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $e(e){return function(e){if(Array.isArray(e))return Ge(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||We(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function We(e,t){if(e){if("string"==typeof e)return Ge(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ge(e,t):void 0}}function Ge(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ke(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function et(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ke(Object(r),!0).forEach((function(t){st(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ke(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function tt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function nt(e,t){return(nt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ot(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=ct(e);if(t){var o=ct(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return at(this,r)}}function at(e,t){return!t||"object"!==qe(t)&&"function"!=typeof t?it(e):t}function it(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ct(e){return(ct=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function st(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ut=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&nt(e,t)}(i,e);var t,r,n,a=ot(i);function i(){var e;tt(this,i);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return st(it(e=a.call.apply(a,[this].concat(r))),"state",{photos:[],loading:!1,criticalError:!1,errorInd:0,errors:[]}),st(it(e),"addError",(function(t){e.setState((function(e){return et(et({},e),{},{errorInd:e.errorInd+1,errors:[].concat($e(e.errors),[{mess:t,key:e.errorInd}])})}),(function(){setTimeout((function(){e.setState((function(e){return et(et({},e),{},{errors:e.errors.slice(1)})}))}),8e3)}))})),st(it(e),"uploadPhoto",(function(t){e.setState({loading:!0}),e.props.photosApi.upload(t).then((function(t){e.state.photos.find((function(e){return e.id===t.id}))?e.setState({loading:!1}):e.setState((function(e){return{photos:[].concat($e(e.photos),[t]),loading:!1}}))}),(function(t){console.error(t),e.addError(e.props.messages.uploadError),e.setState({loading:!1})}))})),st(it(e),"onDrop",(function(t){t.map(e.uploadPhoto)})),st(it(e),"onClearPhoto",(function(t){e.setState((function(e){return{photos:e.photos.filter((function(e){return e.id!==t}))}}))})),st(it(e),"rotate",(function(t){var r=t?e.props.photosApi.rotateLeft:e.props.photosApi.rotateRight;return function(t){var n=e.state.photos.findIndex((function(e){return e.id===t}));-1!==n&&(e.setState({loading:!0}),r(t).then((function(t){e.setState((function(e){var r=e.photos;return r[n]=t,{photos:$e(r),loading:!1}}))}),(function(t){console.error(t),e.setState({loading:!1})})))}})),st(it(e),"onRotateLeft",e.rotate(!0)),st(it(e),"onRotateRight",e.rotate(!1)),st(it(e),"onReorder",(function(t,r){e.setState((function(e){var n=$e(e.photos),o=Ze(n.splice(t,1),1)[0];return n.splice(r,0,o),{photos:n}}))})),e}return t=i,(r=[{key:"componentDidMount",value:function(){var e=this;this.props.initialValue.length>0&&(this.setState({loading:!0}),this.props.photosApi.get(this.props.initialValue).then((function(t){e.setState({photos:t,loading:!1})}),(function(t){console.error(t),e.setState({criticalError:!0,loading:!1})})))}},{key:"render",value:function(){var e=this;return this.state.criticalError?this.props.messages.criticalError:o.a.createElement("div",{className:Fe},o.a.createElement(Be,{appId:this.props.opts.appId,photos:this.state.photos,onReorder:this.onReorder,onClear:this.onClearPhoto,onRotateLeft:this.onRotateLeft,onRotateRight:this.onRotateRight,messages:this.props.messages,disabled:this.state.loading,sortable:this.props.opts.sortable,collapsible:this.props.opts.multiply,sizeNames:this.props.opts.sizeNames}),this.state.loading&&o.a.createElement(Ve,null),(this.props.opts.multiply||0===this.state.photos.length)&&o.a.createElement(b.a,{onDrop:this.onDrop,accept:"image/*",maxSize:this.props.opts.maxSize,multiple:this.props.opts.multiply,disabled:this.state.loading},(function(t){return o.a.createElement("div",Xe({className:He},t.getRootProps()),o.a.createElement(L,{onClick:t.open,icon:o.a.createElement(Ye.a,{height:20,fill:"rgba(0, 0, 0, 0.4)"})},e.props.messages.upload),o.a.createElement("input",t.getInputProps()))})),this.state.errors.length>0&&o.a.createElement("ul",{className:Je},this.state.errors.map((function(e){var t=e.mess,r=e.key;return o.a.createElement("li",{key:r},t)}))),this.state.photos.map((function(t,r){var n=t.id;return o.a.createElement("input",{type:"hidden",name:e.props.inputName,value:n,key:r})})))}}])&&rt(t.prototype,r),n&&rt(t,n),i}(n.PureComponent);st(ut,"defaultProps",{});var lt=Object(O.DragDropContext)(v.a)(ut);function pt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ft(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?pt(Object(r),!0).forEach((function(t){dt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function dt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}window.__photoslibInit=function(e){var t=e.rootElement,r=e.inputName,n=e.messages,a=e.apiOptions,c=e.opts,s=e.initialValue,u={"X-CSRFToken":"; ".concat(document.cookie).split("; csrftoken=").pop().split(";").shift()};return i.a.render(o.a.createElement(lt,{inputName:r,photosApi:y(ft(ft({},a),{},{headers:u})),opts:c,messages:n,initialValue:Number.isInteger(s)?[s]:Array.isArray(s)?s:[]}),t),function(e){e()}}},0:function(e,t,r){r("./node_modules/@babel/polyfill/noConflict.js"),e.exports=r("./src/index.js")},react:function(e,t){e.exports=React},"react-dom":function(e,t){e.exports=ReactDOM}});