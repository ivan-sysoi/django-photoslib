!function(t){function e(e){for(var o,s,i=e[0],c=e[1],u=e[2],p=0,f=[];p<i.length;p++)s=i[p],r[s]&&f.push(r[s][0]),r[s]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(t[o]=c[o]);for(l&&l(e);f.length;)f.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],o=!0,i=1;i<n.length;i++){var c=n[i];0!==r[c]&&(o=!1)}o&&(a.splice(e--,1),t=s(s.s=n[0]))}return t}var o={},r={0:0},a=[];function s(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=o,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)s.d(n,o,function(e){return t[e]}.bind(null,o));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="";var i=window.webpackJsonp=window.webpackJsonp||[],c=i.push.bind(i);i.push=e,i=i.slice();for(var u=0;u<i.length;u++)e(i[u]);var l=c;a.push([0,1]),n()}({"./node_modules/svg-react-loader/lib/loader.js!./src/components/Photo/delete.svg":function(t,e,n){var o=n("react");function r(t){return o.createElement("svg",t,o.createElement("polygon",{points:"357,35.7 321.3,0 178.5,142.8 35.7,0 0,35.7 142.8,178.5 0,321.3 35.7,357 178.5,214.2 321.3,357 357,321.3\n\t\t\t214.2,178.5"}))}r.defaultProps={version:"1.1",id:"Capa_1",x:"0px",y:"0px",viewBox:"0 0 357 357",style:{enableBackground:"new 0 0 357 357"},xmlSpace:"preserve"},t.exports=r,r.default=r},"./node_modules/svg-react-loader/lib/loader.js!./src/components/Photo/rotate.svg":function(t,e,n){var o=n("react");function r(t){return o.createElement("svg",t,o.createElement("path",{d:"M14.133,28.265c-7.061,0-12.805-5.75-12.805-12.809c0-7.06,5.744-12.807,12.805-12.807c0.469,0,0.943,0.027,1.414,0.08\n\t\tv-2.07c0-0.266,0.164-0.508,0.406-0.611c0.252-0.098,0.531-0.043,0.723,0.148l4.537,4.547c0.258,0.258,0.258,0.67,0,0.932\n\t\tl-4.535,4.557c-0.193,0.188-0.473,0.246-0.725,0.143c-0.242-0.104-0.406-0.344-0.406-0.609V7.47\n\t\tc-0.469-0.086-0.941-0.125-1.414-0.125c-4.473,0-8.113,3.639-8.113,8.111c0,4.471,3.641,8.113,8.113,8.113s8.111-3.643,8.111-8.113\n\t\tc0-0.363,0.295-0.66,0.662-0.66h3.369c0.365,0,0.662,0.297,0.662,0.66C26.937,22.515,21.189,28.265,14.133,28.265z"}))}r.defaultProps={x:"0px",y:"0px",viewBox:"0 0 28.265 28.265",style:{enableBackground:"new 0 0 28.265 28.265"},xmlSpace:"preserve"},t.exports=r,r.default=r},"./node_modules/svg-react-loader/lib/loader.js!./src/components/PhotoUrl/copy.svg":function(t,e,n){var o=n("react");function r(t){return o.createElement("svg",t,o.createElement("path",{d:"M395.25,0h-306c-28.05,0-51,22.95-51,51v357h51V51h306V0z M471.75,102h-280.5c-28.05,0-51,22.95-51,51v357\n\t\t\tc0,28.05,22.95,51,51,51h280.5c28.05,0,51-22.95,51-51V153C522.75,124.95,499.8,102,471.75,102z M471.75,510h-280.5V153h280.5V510\n\t\t\tz"}))}r.defaultProps={x:"0px",y:"0px",viewBox:"0 0 561 561",style:{enableBackground:"new 0 0 561 561"},xmlSpace:"preserve"},t.exports=r,r.default=r},"./node_modules/svg-react-loader/lib/loader.js!./src/components/PhotosList/arrow-down.svg":function(t,e,n){var o=n("react");function r(t){return o.createElement("svg",t,o.createElement("polygon",{points:"0,63.75 127.5,191.25 255,63.75"}))}r.defaultProps={x:"0px",y:"0px",viewBox:"0 0 255 255",style:{enableBackground:"new 0 0 255 255"},xmlSpace:"preserve"},t.exports=r,r.default=r},"./node_modules/svg-react-loader/lib/loader.js!./src/upload.svg":function(t,e,n){var o=n("react");function r(t){return o.createElement("svg",t,[o.createElement("polygon",{points:"140.25,331.5 293.25,331.5 293.25,178.5 395.25,178.5 216.75,0 38.25,178.5 140.25,178.5 \t\t",key:0}),o.createElement("rect",{x:"38.25",y:"382.5",width:"357",height:"51",key:1})])}r.defaultProps={x:"0px",y:"0px",viewBox:"0 0 433.5 433.5",style:{enableBackground:"new 0 0 433.5 433.5"},xmlSpace:"preserve"},t.exports=r,r.default=r},"./src/components/Button/styles.scss":function(t,e,n){t.exports={Button:"Button--iAL6V",Button__Icon:"Button__Icon--17TyF"}},"./src/components/Photo/styles.scss":function(t,e,n){t.exports={Photo:"Photo--waL7v",Photo_sortable:"Photo_sortable--10nNi",Photo_dragging:"Photo_dragging--1mbm9",Photo__Urls:"Photo__Urls--15pfK",Photo__Img:"Photo__Img--1iHmf",Photo__Actions:"Photo__Actions--2eF_q",flip:"flip--3Er-R"}},"./src/components/PhotoUrl/styles.scss":function(t,e,n){t.exports={PhotoUrl:"PhotoUrl--yN45Z",PhotoUrl__Input:"PhotoUrl__Input--ZUsdV",PhotoUrl__Name:"PhotoUrl__Name--1nOYr"}},"./src/components/PhotosList/styles.scss":function(t,e,n){t.exports={PhotosList:"PhotosList--dI6qr",PhotosList__Photo:"PhotosList__Photo--dCiCq",PhotosListHeader:"PhotosListHeader--27JpS",PhotosListHeader__Btn:"PhotosListHeader__Btn--3BNLn",PhotosListHeader__Icon:"PhotosListHeader__Icon--1qp0R",PhotosListHeader__Icon_flip:"PhotosListHeader__Icon_flip--3JcaO"}},"./src/components/Spinner/styles.scss":function(t,e,n){t.exports={Spinner:"Spinner--3E89H",Spinner__Inner:"Spinner__Inner--pHxiY","lds-ring":"lds-ring--z4dxd",Spinner__Inner_1:"Spinner__Inner_1--2cBHM",Spinner__Inner_2:"Spinner__Inner_2--2ODMR",Spinner__Inner_3:"Spinner__Inner_3--1fk6a"}},"./src/index.js":function(t,e,n){"use strict";n.r(e);var o=n("react"),r=n.n(o),a=n("react-dom"),s=n.n(a),i=n("./node_modules/axios/index.js"),c=n.n(i),u=n("./node_modules/lodash/isString.js"),l=n.n(u),p=n("./node_modules/lodash/isInteger.js"),f=n.n(p),d=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.maxItems,n=void 0===e?100:e,o=t.lifeTime,r=void 0===o?3e5:o,a=new Map;return{get:function(t){if(a.has(t)){var e=a.get(t);if(0===e.timeout||e.timeout>=(new Date).getTime())return e.data}},set:function(t,e){!function(t){if(!f()(t)&&!l()(t))throw new Error("Cache key must be string or integer: ".concat(t))}(t),function(){if(a.size>n)for(var t=a.keys();a.size>n;)a.remove(t.next())}(),a.set(t,{timeout:r>0?(new Date).getTime()+r:0,data:e})}}};function h(t,e,n,o,r,a,s){try{var i=t[a](s),c=i.value}catch(t){return void n(t)}i.done?e(c):Promise.resolve(c).then(o,r)}function m(t){return function(){var e=this,n=arguments;return new Promise(function(o,r){var a=t.apply(e,n);function s(t){h(a,o,r,s,i,"next",t)}function i(t){h(a,o,r,s,i,"throw",t)}s(void 0)})}}var y=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.getUrl,n=t.uploadUrl,o=t.rotateLeftUrl,r=t.rotateRightUrl,a=t.headers,s=d({lifeTime:0}),i=function(t){if(t&&200>=t.status<300)return t.data;throw new Error("Invalid response status: ".concat(t.statusText))};return{get:function(){var t=m(regeneratorRuntime.mark(function t(n){var o,r,u;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!((o=Number.isInteger(n)?[n]:Array.from(new Set(n.values()))).length<1)){t.next=3;break}return t.abrupt("return",[]);case 3:if(r=o.join("|"),!(u=s.get(r))){t.next=7;break}return t.abrupt("return",u);case 7:return t.t0=i,t.next=10,c()({url:"".concat(e,"?ids=").concat(o.join(",")),headers:a,method:"get"});case 10:return t.t1=t.sent,t.abrupt("return",(0,t.t0)(t.t1));case 12:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),upload:function(){var t=m(regeneratorRuntime.mark(function t(e){var o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return(o=new FormData).append("file",e),t.t0=i,t.next=5,c()({url:n,method:"post",headers:a,data:o});case 5:return t.t1=t.sent,t.abrupt("return",(0,t.t0)(t.t1));case 7:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),rotateLeft:function(){var t=m(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=i,t.next=3,c()({url:o,method:"post",headers:a,data:{ids:[e]}});case 3:return t.t1=t.sent,t.abrupt("return",(0,t.t0)(t.t1));case 5:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),rotateRight:function(){var t=m(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=i,t.next=3,c()({url:r,method:"post",headers:a,data:{ids:[e]}});case 3:return t.t1=t.sent,t.abrupt("return",(0,t.t0)(t.t1));case 5:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}},b=(n("./node_modules/prop-types/index.js"),n("./node_modules/react-dropzone/dist/es/index.js")),g=n("./node_modules/react-dnd-html5-backend/lib/index.js"),v=n.n(g),_=n("./node_modules/react-dnd/lib/index.js"),P=n("./node_modules/classnames/index.js"),w=n.n(P),O=n("./src/components/Button/styles.scss"),j=n.n(O);function x(){return(x=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t}).apply(this,arguments)}function E(t){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function S(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function I(t){return(I=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function k(t,e){return(k=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function R(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function L(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var N=function(t){function e(){var t,n,o,r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return o=this,r=(t=I(e)).call.apply(t,[this].concat(s)),n=!r||"object"!==E(r)&&"function"!=typeof r?R(o):r,L(R(R(n)),"onClick",function(t){n.props.preventDefault&&t.preventDefault(),n.props.onClick&&n.props.onClick(t)}),n}var n,a,s;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&k(t,e)}(e,o["PureComponent"]),n=e,(a=[{key:"render",value:function(){return r.a.createElement("button",{onClick:this.onClick,className:w()(j.a.Button,this.props.className),disabled:this.props.disabled,ref:this.props.buttonRef,style:this.props.style},this.props.icon&&r.a.createElement("span",{className:j.a.Button__Icon},this.props.icon),this.props.children)}}])&&S(n.prototype,a),s&&S(n,s),e}();L(N,"defaultProps",{disabled:!1,preventDefault:!0});var C=Object(o.forwardRef)(function(t,e){return r.a.createElement(N,x({},t,{buttonRef:e}))}),D=n("./node_modules/react-css-collapse/lib/index.js"),B=n.n(D),A=n("./node_modules/svg-react-loader/lib/loader.js!./src/components/PhotoUrl/copy.svg"),T=n.n(A),U=n("./src/components/PhotoUrl/styles.scss"),z=n.n(U),F=function(t){return function(){document.getElementById(t).select(),document.execCommand("copy")}},H=function(t){var e=t.id,n=t.url,o=t.name,a=t.disabled,s="photo".concat(e);return r.a.createElement("div",{className:z.a.PhotoUrl},r.a.createElement("input",{type:"text",value:n,id:s,className:z.a.PhotoUrl__Input}),r.a.createElement("span",{className:z.a.PhotoUrl__Name},o),r.a.createElement("a",{href:n,target:e},function(t){return t.length>30?"".concat(t.slice(0,12),"...").concat(t.slice(-15)):t}(n)),r.a.createElement(C,{onClick:F(s),disabled:a},r.a.createElement(T.a,{height:12,fill:"rgba(0, 0, 0, 0.4)"})))};H.defaultProps={disabled:!1};var V=H,M=n("./node_modules/svg-react-loader/lib/loader.js!./src/components/Photo/rotate.svg"),J=n.n(M),q=n("./node_modules/svg-react-loader/lib/loader.js!./src/components/Photo/delete.svg"),Y=n.n(q),Z=n("./src/components/Photo/styles.scss"),G=n.n(Z);function K(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],o=!0,r=!1,a=void 0;try{for(var s,i=t[Symbol.iterator]();!(o=(s=i.next()).done)&&(n.push(s.value),!e||n.length!==e);o=!0);}catch(t){r=!0,a=t}finally{try{o||null==i.return||i.return()}finally{if(r)throw a}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function X(t){return(X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Q(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function W(t){return(W=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function $(t,e){return($=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function tt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function et(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var nt=function(t){function e(){var t,n,o,r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return o=this,r=(t=W(e)).call.apply(t,[this].concat(s)),n=!r||"object"!==X(r)&&"function"!=typeof r?tt(o):r,et(tt(tt(n)),"state",{}),et(tt(tt(n)),"clearPhoto",function(){n.props.onClear(n.props.photo.id)}),et(tt(tt(n)),"rotateLeft",function(){n.props.onRotateLeft(n.props.photo.id)}),et(tt(tt(n)),"rotateRight",function(){n.props.onRotateRight(n.props.photo.id)}),n}var n,a,s;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&$(t,e)}(e,o["PureComponent"]),n=e,(a=[{key:"render",value:function(){var t,e=this.props,n=e.connectDragPreview,o=e.connectDragSource,a=e.connectDropTarget,s=e.isDragging,i=e.sortable;return o&&a&&n&&o(a(r.a.createElement("div",{className:w()(G.a.Photo,(t={},et(t,G.a.Photo_dragging,s),et(t,G.a.Photo_sortable,i),t),this.props.className)},r.a.createElement("div",{className:G.a.Photo__Img},n(r.a.createElement("img",{src:this.props.photo.thumb})),r.a.createElement("div",{className:G.a.Photo__Actions},r.a.createElement(C,{onClick:this.clearPhoto,disabled:this.props.disabled},r.a.createElement(Y.a,{height:15,fill:"rgba(0, 0, 0, 0.4)"})),r.a.createElement(C,{onClick:this.rotateLeft,disabled:this.props.disabled},r.a.createElement(J.a,{height:15,fill:"rgba(0, 0, 0, 0.4)",className:G.a.flip})),r.a.createElement(C,{onClick:this.rotateRight,disabled:this.props.disabled},r.a.createElement(J.a,{height:15,fill:"rgba(0, 0, 0, 0.4)"})))),r.a.createElement("div",{className:G.a.Photo__Urls},this.state.sizes.map(function(t){var e=t.name,n=t.url,o=t.id;return r.a.createElement(V,{key:o,id:o,name:e,url:n})})))))}}])&&Q(n.prototype,a),s&&Q(n,s),e}();et(nt,"defaultProps",{disabled:!1}),et(nt,"getDerivedStateFromProps",function(t,e){if((e||{}).propsPhoto!==t.photo){var n=[];return t.photo&&(t.photo.file&&n.push({id:"".concat(t.photo.id,"-file"),name:t.messages.original,url:t.photo.file}),t.photo.sizes&&Object.entries(t.photo.sizes).forEach(function(e){var o=K(e,2),r=o[0],a=o[1];n.push({id:"".concat(t.photo.id,"-").concat(r),name:t.sizeNames[r]||r,url:a})})),{propsPhoto:t.photo,sizes:n}}return null});var ot=Object(_.DropTarget)("Photo",{hover:function(t,e,n){if(!n||!e.getItem().sortable)return null;var o=e.getItem().index,r=t.index;o!==r&&(t.onReorder(o,r),e.getItem().index=r)}},function(t){return{connectDropTarget:t.dropTarget()}})(Object(_.DragSource)("Photo",{beginDrag:function(t){return{index:t.index,sortable:t.sortable}}},function(t,e){return{connectDragPreview:t.dragPreview(),connectDragSource:t.dragSource(),isDragging:e.isDragging()}})(nt)),rt=n("./src/components/PhotosList/styles.scss"),at=n.n(rt),st=n("./node_modules/svg-react-loader/lib/loader.js!./src/components/PhotosList/arrow-down.svg"),it=n.n(st);function ct(t){return(ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ut(){return(ut=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t}).apply(this,arguments)}function lt(t,e){if(null==t)return{};var n,o,r=function(t,e){if(null==t)return{};var n,o,r={},a=Object.keys(t);for(o=0;o<a.length;o++)n=a[o],e.indexOf(n)>=0||(r[n]=t[n]);return r}(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(o=0;o<a.length;o++)n=a[o],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function pt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function ft(t){return(ft=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function dt(t,e){return(dt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ht(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var yt=function(t){var e="".concat(t,"-collapsible");return"0"===localStorage.getItem(e)},bt=function(t,e){var n="".concat(t,"-collapsible");localStorage.setItem(n,e?"1":"0")},gt=function(t){function e(){var t,n,o,r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return o=this,r=(t=ft(e)).call.apply(t,[this].concat(s)),n=!r||"object"!==ct(r)&&"function"!=typeof r?ht(o):r,mt(ht(ht(n)),"state",{open:!n.props.collapsible||!yt(n.props.appId)}),mt(ht(ht(n)),"toggle",function(){n.setState(function(t){return{open:!t.open}},function(){bt(n.props.appId,n.state.open)})}),n}var n,a,s;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&dt(t,e)}(e,o["PureComponent"]),n=e,(a=[{key:"render",value:function(){var t=this.props,e=t.photos,n=t.collapsible,a=lt(t,["photos","collapsible"]);return r.a.createElement(o.Fragment,null,n&&r.a.createElement("div",{className:at.a.PhotosListHeader,onClick:this.toggle},r.a.createElement(it.a,{height:18,className:w()(at.a.PhotosListHeader__Icon,this.state.open&&at.a.PhotosListHeader__Icon_flip)}),r.a.createElement("span",null,this.props.messages.count,": ",this.props.photos.length)),r.a.createElement(B.a,{isOpen:this.state.open},r.a.createElement("div",{className:at.a.PhotosList},e.map(function(t,e){return r.a.createElement(ot,ut({},a,{className:at.a.PhotosList__Photo,key:t.id,index:e,photo:t}))}))))}}])&&pt(n.prototype,a),s&&pt(n,s),e}();mt(gt,"defaultProps",{});var vt=gt,_t=n("./src/components/Spinner/styles.scss"),Pt=n.n(_t),wt=[0,1,2,3].map(function(t){return r.a.createElement("div",{key:t,className:[Pt.a.Spinner__Inner,"".concat(Pt.a.Spinner__Inner,"_").concat(t)].join(" ")})}),Ot=function(t){var e=t.className;return r.a.createElement("div",{className:w()(Pt.a.Spinner,e)},wt)},jt=n("./src/styles.scss"),xt=n.n(jt),Et=n("./node_modules/svg-react-loader/lib/loader.js!./src/upload.svg"),St=n.n(Et);function It(t){return(It="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function kt(){return(kt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t}).apply(this,arguments)}function Rt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],o=!0,r=!1,a=void 0;try{for(var s,i=t[Symbol.iterator]();!(o=(s=i.next()).done)&&(n.push(s.value),!e||n.length!==e);o=!0);}catch(t){r=!0,a=t}finally{try{o||null==i.return||i.return()}finally{if(r)throw a}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Lt(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Nt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),o.forEach(function(e){Tt(t,e,n[e])})}return t}function Ct(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Dt(t){return(Dt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Bt(t,e){return(Bt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function At(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Tt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ut=function(t){function e(){var t,n,o,r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return o=this,r=(t=Dt(e)).call.apply(t,[this].concat(s)),n=!r||"object"!==It(r)&&"function"!=typeof r?At(o):r,Tt(At(At(n)),"state",{photos:[],loading:!1,criticalError:!1,errorInd:0,errors:[]}),Tt(At(At(n)),"updateInputValue",function(){n.props.opts.multiply?n.props.input.value=JSON.stringify(n.state.photos.map(function(t){return t.id})):n.props.input.value=n.state.photos.length>0?n.state.photos[0].id:""}),Tt(At(At(n)),"addError",function(t){n.setState(function(e){return Nt({},e,{errorInd:e.errorInd+1,errors:[].concat(Lt(e.errors),[{mess:t,key:e.errorInd}])})},function(){setTimeout(function(){n.setState(function(t){return Nt({},t,{errors:t.errors.slice(1)})})},8e3)})}),Tt(At(At(n)),"uploadPhoto",function(t){n.setState({loading:!0}),n.props.photosApi.upload(t).then(function(t){n.state.photos.find(function(e){return e.id===t.id})?n.setState({loading:!1}):n.setState(function(e){return{photos:[].concat(Lt(e.photos),[t]),loading:!1}},function(){n.updateInputValue()})},function(t){console.error(t),n.addError(n.props.messages.uploadError),n.setState({loading:!1})})}),Tt(At(At(n)),"onDrop",function(t){t.map(n.uploadPhoto)}),Tt(At(At(n)),"onClearPhoto",function(t){n.setState(function(e){return{photos:e.photos.filter(function(e){return e.id!==t})}},function(){n.updateInputValue()})}),Tt(At(At(n)),"rotate",function(t){var e=t?n.props.photosApi.rotateLeft:n.props.photosApi.rotateRight;return function(t){var o=n.state.photos.findIndex(function(e){return e.id===t});-1!==o&&(n.setState({loading:!0}),e(t).then(function(t){n.setState(function(e){var n=e.photos;return n[o]=t,{photos:Lt(n),loading:!1}},function(){n.updateInputValue()})},function(t){console.error(t),n.setState({loading:!1})}))}}),Tt(At(At(n)),"onRotateLeft",n.rotate(!0)),Tt(At(At(n)),"onRotateRight",n.rotate(!1)),Tt(At(At(n)),"onReorder",function(t,e){n.setState(function(n){var o=Lt(n.photos),r=Rt(o.splice(t,1),1)[0];return o.splice(e,0,r),{photos:o}},function(){n.updateInputValue()})}),n}var n,a,s;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Bt(t,e)}(e,o["PureComponent"]),n=e,(a=[{key:"componentDidMount",value:function(){var t,e=this;Number.isInteger(this.props.value)?t=[this.props.value]:Array.isArray(this.props.value)&&this.props.value.length>0&&(t=this.props.value),t&&(this.setState({loading:!0}),this.props.photosApi.get(t).then(function(t){e.setState({photos:t,loading:!1},function(){e.updateInputValue()})},function(t){console.error(t),e.setState({criticalError:!0,loading:!1})}))}},{key:"render",value:function(){var t=this;return this.state.criticalError?this.props.messages.criticalError:r.a.createElement("div",{className:xt.a.PhotoField},r.a.createElement(vt,{appId:this.props.opts.appId,photos:this.state.photos,onReorder:this.onReorder,onClear:this.onClearPhoto,onRotateLeft:this.onRotateLeft,onRotateRight:this.onRotateRight,messages:this.props.messages,disabled:this.state.loading,sortable:this.props.opts.sortable,collapsible:this.props.opts.multiply,sizeNames:this.props.opts.sizeNames}),this.state.loading&&r.a.createElement(Ot,null),(this.props.opts.multiply||0===this.state.photos.length)&&r.a.createElement(b.a,{onDrop:this.onDrop,accept:"image/*",maxSize:this.props.opts.maxSize,multiple:this.props.opts.multiply,disabled:this.state.loading},function(e){return r.a.createElement("div",kt({className:xt.a.PhotoField__UploadButton},e.getRootProps()),r.a.createElement(C,{onClick:e.open,icon:r.a.createElement(St.a,{height:20,fill:"rgba(0, 0, 0, 0.4)"})},t.props.messages.upload),r.a.createElement("input",e.getInputProps()))}),this.state.errors.length>0&&r.a.createElement("ul",{className:xt.a.PhotoField__Errors},this.state.errors.map(function(t){var e=t.mess,n=t.key;return r.a.createElement("li",{key:n},e)})))}}])&&Ct(n.prototype,a),s&&Ct(n,s),e}();Tt(Ut,"defaultProps",{});var zt=Object(_.DragDropContext)(v.a)(Ut);function Ft(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),o.forEach(function(e){Ht(t,e,n[e])})}return t}function Ht(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}window.__photoslibInit=function(t){var e=t.rootElement,n=t.input,o=t.messages,a=t.apiOptions,i=t.opts,c=t.value,u={"X-CSRFToken":("; "+document.cookie).split("; csrftoken=").pop().split(";").shift()};s.a.render(r.a.createElement(zt,{input:n,photosApi:y(Ft({},a,{headers:u})),opts:i,messages:o,value:c}),e)}},"./src/styles.scss":function(t,e,n){t.exports={PhotoField:"PhotoField--2Gh2m",PhotoField__UploadButton:"PhotoField__UploadButton--2dLE8",PhotoField__Errors:"PhotoField__Errors--26Rzg"}},0:function(t,e,n){n("./node_modules/@babel/polyfill/noConflict.js"),t.exports=n("./src/index.js")},react:function(t,e){t.exports=React},"react-dom":function(t,e){t.exports=ReactDOM}});